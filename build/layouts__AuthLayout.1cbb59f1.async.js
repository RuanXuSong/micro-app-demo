(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[656],{31777:function(ie,b,e){"use strict";e.r(b),e.d(b,{default:function(){return ae}});var K=e(13378),D=e(44742),T=e(56361),ce=e(50111),F=e(55419),de=e(13753),H=e(48429),fe=e(84786),O=e(52311),P=e(92374),n=e(67294),M=e(54276),S=e(48786),N=e(15486),W=e(62210),B=e(82405),J=e(54200),Q=e.n(J),$=e(75263),me=e(94043),ve=e(86411);function V(){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime.mark(function s(){return _regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,app.getInitialState();case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),C.apply(this,arguments)}var X={initialState:void 0,loading:!0,error:void 0},he=function(){var s=useState(X),a=_slicedToArray(s,2),u=a[0],i=a[1],d=useCallback(_asyncToGenerator(_regeneratorRuntime.mark(function m(){var f,p;return _regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i(function(c){return _objectSpread(_objectSpread({},c),{},{loading:!0,error:void 0})}),o.prev=1,f=function(){return new Promise(function(R){return R(V())})},o.next=5,f();case 5:p=o.sent,i(function(c){return _objectSpread(_objectSpread({},c),{},{initialState:p,loading:!1})}),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),i(function(c){return _objectSpread(_objectSpread({},c),{},{error:o.t0,loading:!1})});case 12:case"end":return o.stop()}},m,null,[[1,9]])})),[]),y=useCallback(function(m){i(function(f){return _objectSpread(_objectSpread({},f),{},{initialState:m,loading:!1})})},[]);return useEffect(function(){d()},[]),_objectSpread(_objectSpread({},u),{},{refresh:d,setInitialState:y})},Y=e(66845),g=e.n(Y),x=e(35510),w=e.n(x),k=e(96486),q=function(a){return n.createElement("i",{className:"iconfont ".concat(a.name||""," ").concat(a.className),style:a.style})},_=q,Se=O.Z.TabPane,ee=n.createElement(F.ZP,{status:403,title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:n.createElement(H.Z,{type:"primary"},n.createElement(M.rU,{to:"/user/login"},"Go Login"))}),te=function(a){var u=(0,S.tT)("@@initialState"),i=u.initialState,d=i||{},y=d.menus,m=y===void 0?[]:y,f=d.userInfo,p=function l(t){return t.map(function(r){if(r.hidden)return null;var h=(0,T.Z)((0,T.Z)({},r),{},{children:r.children?l(r.children):void 0});return N.Z.check(m,h)})},v=a.dispatch,o=a.children,c=a.settings,R=a.location,I=R===void 0?{pathname:"/"}:R,A=(0,n.useRef)([]),re=(0,n.useState)(!1),G=(0,D.Z)(re,2),ge=G[0],ye=G[1],oe=(0,n.useState)(!1),z=(0,D.Z)(oe,2),pe=z[0],Re=z[1];(0,n.useEffect)(function(){return $.ZP.setGlobalData({showDropDown:!0}),function(){$.ZP.setGlobalData({showDropDown:!1})}},[]),(0,n.useEffect)(function(){v&&v({type:"user/setCurrentUser",payload:f})},[f]),(0,n.useEffect)(function(){var l=a.location||{},t=l.pathname,r=t===void 0?"":t;/^\/authorization\/?$/.test(r)&&S.m8.replace("/authorization/resource/list")},[a]);var ue=function(t){v&&v({type:"global/changeLayoutCollapsed",payload:t})},Z=function(t,r){var h=t.customIcon,E=t.fontIcon,j=t.name,L=t.pro_layout_parentKeys,se=L===void 0?[]:L,U=!(0,k.isEmpty)(se);return U?n.createElement("div",{className:w()(U?g().childMenuItem:g().menuItemWrap)},E?n.createElement(_,{name:E,className:g().fontIcon,style:{marginRight:10}}):n.createElement("img",{src:e(56680)("./".concat(h,".png")),alt:j}),n.createElement("div",{className:g().menuTitle},r)):null},le=(0,n.useMemo)(function(){return(0,B.nG)(I.pathname||"/",A.current).pop()||{authority:void 0}},[I.pathname]);return n.createElement(P.ZP,(0,K.Z)({logo:Q()},a,c,{className:"auth-layout",onCollapse:ue,onMenuHeaderClick:function(){return S.m8.push("/")},menuItemRender:function(t,r){return t.isUrl||!t.path||I.pathname===t.path?Z(t,r):n.createElement(M.rU,{to:t.path},Z(t,r))},subMenuItemRender:function(t,r){return Z(t,r)},splitMenus:!0,itemRender:function(t,r,h,E){var j=h.indexOf(t)===0;return j?n.createElement(M.rU,{to:E.join("/")},t.breadcrumbName):n.createElement("span",null,t.breadcrumbName)},footerRender:function(){return null},menuDataRender:p,rightContentRender:function(){return n.createElement(W.Z,null)},postMenuData:function(t){return A.current=t||[],t||[]}}),n.createElement(N.Z,{authority:le.authority,noMatch:ee},o))};function ne(s){var a=s.router.location,u=s.global,i=s.settings,d=a.pathname;return{menuKey:d,collapsed:u.collapsed,settings:i}}var ae=(0,S.$j)(ne)(te)}}]);
