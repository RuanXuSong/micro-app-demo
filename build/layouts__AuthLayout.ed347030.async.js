(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[656],{31777:function(ce,b,e){"use strict";e.r(b),e.d(b,{default:function(){return re}});var F=e(13378),D=e(44742),T=e(56361),de=e(50111),H=e(55419),fe=e(13753),O=e(48429),me=e(84786),P=e(52311),W=e(92374),n=e(67294),M=e(54276),g=e(48786),N=e(21369),B=e(62210),J=e(82405),Q=e(54200),V=e.n(Q),$=e(75263),ve=e(94043),he=e(95810);function X(){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime.mark(function s(){return _regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,app.getInitialState();case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},s)})),C.apply(this,arguments)}var Y={initialState:void 0,loading:!0,error:void 0},ge=function(){var s=useState(Y),a=_slicedToArray(s,2),u=a[0],i=a[1],d=useCallback(_asyncToGenerator(_regeneratorRuntime.mark(function m(){var f,p;return _regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i(function(c){return _objectSpread(_objectSpread({},c),{},{loading:!0,error:void 0})}),o.prev=1,f=function(){return new Promise(function(R){return R(X())})},o.next=5,f();case 5:p=o.sent,i(function(c){return _objectSpread(_objectSpread({},c),{},{initialState:p,loading:!1})}),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),i(function(c){return _objectSpread(_objectSpread({},c),{},{error:o.t0,loading:!1})});case 12:case"end":return o.stop()}},m,null,[[1,9]])})),[]),y=useCallback(function(m){i(function(f){return _objectSpread(_objectSpread({},f),{},{initialState:m,loading:!1})})},[]);return useEffect(function(){d()},[]),_objectSpread(_objectSpread({},u),{},{refresh:d,setInitialState:y})},x=e(66845),S=e.n(x),w=e(35510),k=e.n(w),q=e(96486),_=function(a){return n.createElement("i",{className:"iconfont ".concat(a.name||""," ").concat(a.className),style:a.style})},ee=_,Se=P.Z.TabPane,te=n.createElement(H.ZP,{status:403,title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:n.createElement(O.Z,{type:"primary"},n.createElement(M.rU,{to:"/user/login"},"Go Login"))}),ne=function(a){var u=(0,g.tT)("@@initialState"),i=u.initialState,d=i||{},y=d.menus,m=y===void 0?[]:y,f=d.userInfo,p=function l(t){return t.map(function(r){if(r.hidden)return null;var h=(0,T.Z)((0,T.Z)({},r),{},{children:r.children?l(r.children):void 0});return N.Z.check(m,h)})},v=a.dispatch,o=a.children,c=a.settings,R=a.location,I=R===void 0?{pathname:"/"}:R,A=a.collapsed,G=(0,n.useRef)([]),oe=(0,n.useState)(!1),L=(0,D.Z)(oe,2),ye=L[0],pe=L[1],ue=(0,n.useState)(!1),z=(0,D.Z)(ue,2),Re=z[0],Ee=z[1];(0,n.useEffect)(function(){return $.ZP.setGlobalData({showDropDown:!0}),function(){$.ZP.setGlobalData({showDropDown:!1})}},[]),(0,n.useEffect)(function(){v&&v({type:"user/setCurrentUser",payload:f})},[f]),(0,n.useEffect)(function(){var l=a.location||{},t=l.pathname,r=t===void 0?"":t;/^\/authorization\/?$/.test(r)&&g.m8.replace("/authorization/resource/list")},[a]);var le=function(t){v&&v({type:"global/changeLayoutCollapsed",payload:t})},Z=function(t,r){var h=t.customIcon,E=t.fontIcon,j=t.name,U=t.pro_layout_parentKeys,ie=U===void 0?[]:U,K=!(0,q.isEmpty)(ie);return K?n.createElement("div",{className:k()(K?S().childMenuItem:S().menuItemWrap),style:A?{paddingLeft:2}:{}},E?n.createElement(ee,{name:E,className:S().fontIcon,style:{marginRight:A?14:10}}):n.createElement("img",{src:e(56680)("./".concat(h,".png")),alt:j}),n.createElement("div",{className:S().menuTitle},r)):null},se=(0,n.useMemo)(function(){return(0,J.nG)(I.pathname||"/",G.current).pop()||{authority:void 0}},[I.pathname]);return n.createElement(W.ZP,(0,F.Z)({logo:V()},a,c,{className:"auth-layout",onCollapse:le,onMenuHeaderClick:function(){return g.m8.push("/")},menuItemRender:function(t,r){return t.isUrl||!t.path||I.pathname===t.path?Z(t,r):n.createElement(M.rU,{to:t.path},Z(t,r))},subMenuItemRender:function(t,r){return Z(t,r)},splitMenus:!0,itemRender:function(t,r,h,E){var j=h.indexOf(t)===0;return j?n.createElement(M.rU,{to:E.join("/")},t.breadcrumbName):n.createElement("span",null,t.breadcrumbName)},footerRender:function(){return null},menuDataRender:p,rightContentRender:function(){return n.createElement(B.Z,null)},postMenuData:function(t){return G.current=t||[],t||[]}}),n.createElement(N.Z,{authority:se.authority,noMatch:te},o))};function ae(s){var a=s.router.location,u=s.global,i=s.settings,d=a.pathname;return{menuKey:d,collapsed:u.collapsed,settings:i}}var re=(0,g.$j)(ae)(ne)}}]);
