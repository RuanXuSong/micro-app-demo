(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[987],{78732:function(d,i,n){"use strict";var s=n(58210),c=n(87240),r=n(67294);i.Z=function(_){var a=_.loading;return a&&r.createElement(c.Z,{size:"large",className:"loadingIcon"})}},30304:function(d,i,n){"use strict";n.r(i);var s=n(56361),c=n(44742),r=n(67294),_=n(19170),a=n.n(_),o=n(75263),f=n(48786),u=n(78732),l=n(34416),t=n(66594),e;function E(v){var D=(0,r.useState)(!0),O=(0,c.Z)(D,2),U=O[0],P=O[1];function M(m){var h=m||{},L=h.payload,I=h.type,B=v.dispatch;if(I==="setCurrentUser"){var g=L||{},A=g.realname,p=g.avatar,C=(0,s.Z)((0,s.Z)({},L),{},{userName:A,avatar:p});B({type:"user/setCurrentUser",payload:C}),e=C}}return(0,r.useEffect)(function(){return o.ZP.addDataListener(t.u6.BI_SHENG,M),function(){o.ZP.removeDataListener(t.u6.BI_SHENG,M),o.ZP.clearDataListener(t.u6.BI_SHENG)}},[]),a()("div",{style:{height:"100%"}},a()(u.Z,{loading:U}),a()("micro-app",{name:t.u6.BI_SHENG,baseRoute:"/".concat(t.u6.BI_SHENG),url:"".concat(l.Z.biSheng),"keep-alive":!0,onMounted:function(){return P(!1)},onAftershow:function(){e&&v.dispatch({type:"user/setCurrentUser",payload:e}),P(!1)},data:{logoutUrl:l.G}}))}i.default=(0,f.$j)(function(v){var D=v.user;return{currentUser:D.currentUser}})(E)},19170:function(d,i,n){var s=n(67294),c=["oncreated","onbeforemount","onmounted","onunmount","onerror","ondatachange","onbeforeshow","onaftershow","onafterhidden"];function r(_,a){for(var o=arguments.length,f=new Array(o>2?o-2:0),u=2;u<o;u++)f[u-2]=arguments[u];if(typeof _!="string"||!/^micro-app(-\S+)?/.test(_)||!a)return s.createElement.apply(null,[_,a].concat(f));var l=Object.assign({},a);return l.ref=function(t){if(typeof a.ref=="function"?a.ref(t):typeof a.ref=="object"&&(a.ref.current=t),t){toString.call(a.data)==="[object Object]"&&t.data!==a.data&&(t.data=a.data);for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)&&c.includes(e.toLowerCase())&&typeof a[e]=="function"&&(!t[e]||t[e]!==a[e])){var E=e.toLowerCase().replace("on","");t[e]&&t.removeEventListener(E,t[e],!1),t.addEventListener(E,a[e],!1),t[e]=a[e]}}},s.createElement.apply(null,[_,l].concat(f))}d.exports=r,d.exports.default=r}}]);
