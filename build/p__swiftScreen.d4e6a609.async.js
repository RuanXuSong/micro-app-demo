(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[154],{78732:function(d,l,t){"use strict";var n=t(58210),u=t(87240),c=t(67294);l.Z=function(o){var e=o.loading;return e&&c.createElement(u.Z,{size:"large",className:"loadingIcon"})}},38571:function(d,l,t){"use strict";t.r(l);var n=t(99463),u=t(56361),c=t(44742),o=t(67294),e=t(19170),s=t.n(e),i=t(75263),f=t(48786),E=t(78732),a=t(34416),_;function m(v){var r,L=(0,o.useState)(!0),D=(0,c.Z)(L,2),U=D[0],M=D[1];function h(P){var C=P||{},O=C.payload,g=C.type,T=v.dispatch;if(g==="setCurrentUser"){var A=O.name,R=O.profile_image_url,p=(0,u.Z)((0,u.Z)({},O),{},{userName:A,avatar:R});T({type:"user/setCurrentUser",payload:p}),_=p}}return(0,o.useEffect)(function(){return i.ZP.addDataListener("swiftScreen",h),function(){i.ZP.removeDataListener("swiftScreen",h),i.ZP.clearDataListener("swiftScreen")}},[]),s()("div",{style:{height:"100%"}},s()(E.Z,{loading:U}),s()("micro-app",(r={name:"".concat(ROUTE_PATH.SWIFT_SCREEN,"/*"),baseRoute:"/".concat(ROUTE_PATH.SWIFT_SCREEN)},(0,n.Z)(r,"name","swiftScreen"),(0,n.Z)(r,"url",a.Z.swiftScreen),(0,n.Z)(r,"onMounted",function(){return M(!1)}),(0,n.Z)(r,"onAftershow",function(){_&&v.dispatch({type:"user/setCurrentUser",payload:_}),M(!1)}),(0,n.Z)(r,"keep-alive",!0),(0,n.Z)(r,"data",{logoutUrl:a.G}),r)))}l.default=(0,f.$j)(function(v){var r=v.user;return{currentUser:r.currentUser}})(m)},19170:function(d,l,t){var n=t(67294),u=["oncreated","onbeforemount","onmounted","onunmount","onerror","ondatachange","onbeforeshow","onaftershow","onafterhidden"];function c(o,e){for(var s=arguments.length,i=new Array(s>2?s-2:0),f=2;f<s;f++)i[f-2]=arguments[f];if(typeof o!="string"||!/^micro-app(-\S+)?/.test(o)||!e)return n.createElement.apply(null,[o,e].concat(i));var E=Object.assign({},e);return E.ref=function(a){if(typeof e.ref=="function"?e.ref(a):typeof e.ref=="object"&&(e.ref.current=a),a){toString.call(e.data)==="[object Object]"&&a.data!==e.data&&(a.data=e.data);for(var _ in e)if(Object.prototype.hasOwnProperty.call(e,_)&&u.includes(_.toLowerCase())&&typeof e[_]=="function"&&(!a[_]||a[_]!==e[_])){var m=_.toLowerCase().replace("on","");a[_]&&a.removeEventListener(m,a[_],!1),a.addEventListener(m,e[_],!1),a[_]=e[_]}}},n.createElement.apply(null,[o,E].concat(i))}d.exports=c,d.exports.default=c}}]);
