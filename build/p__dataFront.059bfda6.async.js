(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[492],{78732:function(A,f,e){"use strict";var n=e(58210),a=e(87240),c=e(67294);f.Z=function(_){var o=_.loading;return o&&c.createElement(a.Z,{size:"large",className:"loadingIcon"})}},61126:function(A,f,e){"use strict";e.r(f);var n=e(99463),a=e(26780),c=e(46567),_=e(60360),o=e(66646),h=e(78845),r=e(35317),i=e(19170),l=e.n(i),u=e(67294),d=e(7085),E=e(75263),p=e(48786),C=e(78732),T=e(66594),v=e(34416),S=l()(d.Z,{style:{fontSize:30},spin:!0}),N=function(U){(0,h.Z)(D,U);var M=(0,r.Z)(D);function D(){var t;(0,_.Z)(this,D);for(var s=arguments.length,P=new Array(s),O=0;O<s;O++)P[O]=arguments[O];return t=M.call.apply(M,[this].concat(P)),t.state={data:{name:"\u521D\u59CB\u5316\u6570\u636E"},name:"dataFront",showLoading:!0,showMicroApp:!0,testNum:0,modal1:!1},t.handleCreated=function(){console.log("\u751F\u547D\u5468\u671F\uFF1Acreated -- ".concat(t.state.name))},t.beforemount=function(m){console.log("\u751F\u547D\u5468\u671F\uFF1Abeforemount -- ".concat(t.state.name),m)},t.mounted=function(){console.timeEnd("mounted-".concat(t.state.name)),console.log("\u751F\u547D\u5468\u671F\uFF1Amounted -- ".concat(t.state.name),document.querySelector("micro-app")),t.setState({showLoading:!1}),E.ZP.setGlobalData({showDropDown:!0})},t.unmount=function(){console.log("\u751F\u547D\u5468\u671F\uFF1Aunmount -- ".concat(t.state.name),document.querySelector("#micro-app-template-style"))},t.error=function(m){console.log("\u751F\u547D\u5468\u671F\uFF1Aerror -- ".concat(t.state.name),m)},t.handleBeforeshow=function(m){console.log("\u751F\u547D\u5468\u671F\uFF1Akeep-alive beforeshow -- ".concat(t.state.name),m)},t.handleAftershow=function(m){E.ZP.setGlobalData({showDropDown:!0}),console.timeEnd("mounted-".concat(t.state.name)),console.log("\u751F\u547D\u5468\u671F\uFF1Akeep-alive aftershow -- ".concat(t.state.name),document.querySelector("micro-app")),t.setState({showLoading:!1})},t.handleAfterhidden=function(m){console.log("\u751F\u547D\u5468\u671F\uFF1Akeep-alive afterhidden -- ".concat(t.state.name),m),E.ZP.setGlobalData({showDropDown:!1})},t.changeData=function(){t.setState({data:{name:+new Date}})},t.dispatchData=function(){E.ZP.setData(t.state.name,{dispatch:"data from dispatch"+ +new Date})},t.dispatchGlobalData=function(){E.ZP.setGlobalData({name:"\u5168\u5C40\u6570\u636E"+ +new Date})},t.handleDataChange=function(m){console.log("\u901A\u8FC7\u751F\u547D\u5468\u5468\u671F\u76D1\u542C\u5230\u6765\u81EA\u5B50\u5E94\u7528\u7684\u6570\u636E",m),c.Z.info({title:"\u6765\u81EA\u5B50\u5E94\u7528\u7684\u6570\u636E",content:l()("div",null,l()("p",null,JSON.stringify(m.detail.data))),onOk:function(){}})},t.toggleShow=function(){t.setState({showMicroApp:!t.state.showMicroApp})},t.changeNameUrl=function(){t.setState({name:"vue2",url:"".concat(v.Z.vue2,"micro-app/vue2")})},t.handleModal=function(){t.setState({modal1:!t.state.modal1})},t.handleUnmountMySelf=function(){t.setState({showMicroApp:!1},function(){(0,E.wp)(t.state.name,{clearAliveState:!0}).then(function(){console.log("unmountApp\u65B9\u6CD5 -- \u5378\u8F7D\u6210\u529F")})})},t.handleGlobalDataForBaseApp=function(m){console.log("\u8FD9\u662F\u5168\u5C40\u6570\u636E--\u57FA\u5EA7\u5E94\u7528-".concat(t.state.name),m)},t}return(0,o.Z)(D,[{key:"componentDidMount",value:function(){console.time("mounted-".concat(this.state.name)),E.ZP.addDataListener(this.state.name,function(s){console.log("\u6765\u81EA\u5B50\u5E94\u7528dataFront\u7684\u6570\u636E",s)}),this.props.dispatch({type:"user/setCurrentUser",payload:{userName:"admin",avatar:T.q$}}),E.ZP.addGlobalDataListener(this.handleGlobalDataForBaseApp)}},{key:"componentWillUnmount",value:function(){E.ZP.clearDataListener(this.state.name),E.ZP.removeGlobalDataListener(this.handleGlobalDataForBaseApp)}},{key:"render",value:function(){var s;return l()(u.Fragment,null,l()(C.Z,{loading:this.state.showLoading}),l()("micro-app",(s={name:"".concat(ROUTE_PATH.DATA_FRONT,"/*"),baseRoute:"/".concat(ROUTE_PATH.DATA_FRONT)},(0,n.Z)(s,"name","dataFront"),(0,n.Z)(s,"url","".concat(v.Z.dataFront,"micro-app/dataFront")),(0,n.Z)(s,"data",this.state.data),(0,n.Z)(s,"onCreated",this.handleCreated),(0,n.Z)(s,"onBeforemount",this.beforemount),(0,n.Z)(s,"onMounted",this.mounted),(0,n.Z)(s,"onUnmount",this.unmount),(0,n.Z)(s,"onError",this.error),(0,n.Z)(s,"onBeforeshow",this.handleBeforeshow),(0,n.Z)(s,"onAftershow",this.handleAftershow),(0,n.Z)(s,"onAfterhidden",this.handleAfterhidden),(0,n.Z)(s,"onDataChange",this.handleDataChange),(0,n.Z)(s,"data",{logoutUrl:v.G}),(0,n.Z)(s,"keep-alive",!0),s)))}}]),D}(u.Component);f.default=(0,p.$j)(function(U){var M=U.user;return{currentUser:M.currentUser}})(N)},19170:function(A,f,e){var n=e(67294),a=["oncreated","onbeforemount","onmounted","onunmount","onerror","ondatachange","onbeforeshow","onaftershow","onafterhidden"];function c(_,o){for(var h=arguments.length,r=new Array(h>2?h-2:0),i=2;i<h;i++)r[i-2]=arguments[i];if(typeof _!="string"||!/^micro-app(-\S+)?/.test(_)||!o)return n.createElement.apply(null,[_,o].concat(r));var l=Object.assign({},o);return l.ref=function(u){if(typeof o.ref=="function"?o.ref(u):typeof o.ref=="object"&&(o.ref.current=u),u){toString.call(o.data)==="[object Object]"&&u.data!==o.data&&(u.data=o.data);for(var d in o)if(Object.prototype.hasOwnProperty.call(o,d)&&a.includes(d.toLowerCase())&&typeof o[d]=="function"&&(!u[d]||u[d]!==o[d])){var E=d.toLowerCase().replace("on","");u[d]&&u.removeEventListener(E,u[d],!1),u.addEventListener(E,o[d],!1),u[d]=o[d]}}},n.createElement.apply(null,[_,l].concat(r))}A.exports=c,A.exports.default=c},31064:function(A,f,e){"use strict";e.d(f,{m:function(){return h}});var n=function(){return{height:0,opacity:0}},a=function(i){return{height:i.scrollHeight,opacity:1}},c=function(i){return{height:i.offsetHeight}},_=function(i,l){return l.propertyName==="height"},o={motionName:"ant-motion-collapse",onAppearStart:n,onEnterStart:n,onAppearActive:a,onEnterActive:a,onLeaveStart:c,onLeaveActive:n,onAppearEnd:_,onEnterEnd:_,onLeaveEnd:_,motionDeadline:500},h=function(i,l,u){return u!==void 0?u:"".concat(i,"-").concat(l)};f.Z=o},55835:function(A,f,e){"use strict";e.d(f,{jD:function(){return a},GL:function(){return c},fk:function(){return o}});var n=e(20064),a=function(){return(0,n.Z)()&&window.document.documentElement},c=function(r){if(a()){var i=Array.isArray(r)?r:[r],l=window.document.documentElement;return i.some(function(u){return u in l.style})}return!1},_,o=function(){if(!a())return!1;if(_!==void 0)return _;var r=document.createElement("div");return r.style.display="flex",r.style.flexDirection="column",r.style.rowGap="1px",r.appendChild(document.createElement("div")),r.appendChild(document.createElement("div")),document.body.appendChild(r),_=r.scrollHeight===1,document.body.removeChild(r),_}},80207:function(A,f,e){"use strict";e.d(f,{Z:function(){return n}});function n(a,c){return a?a.contains(c):!1}},52621:function(A,f){"use strict";var e={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(a){var c=a.keyCode;if(a.altKey&&!a.ctrlKey||a.metaKey||c>=e.F1&&c<=e.F12)return!1;switch(c){case e.ALT:case e.CAPS_LOCK:case e.CONTEXT_MENU:case e.CTRL:case e.DOWN:case e.END:case e.ESC:case e.HOME:case e.INSERT:case e.LEFT:case e.MAC_FF_META:case e.META:case e.NUMLOCK:case e.NUM_CENTER:case e.PAGE_DOWN:case e.PAGE_UP:case e.PAUSE:case e.PRINT_SCREEN:case e.RIGHT:case e.SHIFT:case e.UP:case e.WIN_KEY:case e.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(a){if(a>=e.ZERO&&a<=e.NINE||a>=e.NUM_ZERO&&a<=e.NUM_MULTIPLY||a>=e.A&&a<=e.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&a===0)return!0;switch(a){case e.SPACE:case e.QUESTION_MARK:case e.NUM_PLUS:case e.NUM_MINUS:case e.NUM_PERIOD:case e.NUM_DIVISION:case e.SEMICOLON:case e.DASH:case e.EQUALS:case e.COMMA:case e.PERIOD:case e.SLASH:case e.APOSTROPHE:case e.SINGLE_QUOTE:case e.OPEN_SQUARE_BRACKET:case e.BACKSLASH:case e.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};f.Z=e},75840:function(A,f,e){"use strict";var n=e(67294),a=e(73935),c=e(20064),_=(0,n.forwardRef)(function(o,h){var r=o.didUpdate,i=o.getContainer,l=o.children,u=(0,n.useRef)();(0,n.useImperativeHandle)(h,function(){return{}});var d=(0,n.useRef)(!1);return!d.current&&(0,c.Z)()&&(u.current=i(),d.current=!0),(0,n.useEffect)(function(){r==null||r(o)}),(0,n.useEffect)(function(){return function(){var E,p;(E=u.current)===null||E===void 0||(p=E.parentNode)===null||p===void 0||p.removeChild(u.current)}},[]),u.current?a.createPortal(l,u.current):null});f.Z=_}}]);
