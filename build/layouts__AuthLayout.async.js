"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[656],{31696:function(n,e,t){t.r(e),t.d(e,{default:function(){return b}});var r=t(97857),a=t.n(r),o=t(96634),i=t(67294),u=t(84354),s=t(93102),l=t(58274),c=t(75062),d=t(29855),h=t(94184),f=t.n(h),p=t(96486),m=t(85893),g=function(n){return(0,m.jsx)("i",{className:"iconfont ".concat(n.name||""," ").concat(n.className),style:n.style})},v=t(20009),y=t(23094),Z=t(56574);var b=(0,u.connect)((function(n){var e=n.global,t=n.settings;return{collapsed:e.collapsed,settings:t}}))((function(n){var e,t,r=(0,u.useLocation)(),h=(0,u.useModel)("@@initialState").initialState,b=(0,u.useKeepOutlets)(),j=h||{},x=j.menus,k=void 0===x?[]:x,N=j.userInfo,C=(0,u.useModel)("authority").checkAuth,D=(0,Z.Z)().initialRoute,I=function(n){return n.map((function(n){if(n.hidden)return null;var e=a()(a()({},n),{},{children:n.children?I(n.children):void 0});return s.Z.check(k,e)})).filter((function(n){return!!n}))},M=n.dispatch,R=n.settings,w=n.collapsed;(0,i.useEffect)((function(){return c.ZP.setGlobalData({showDropDown:!0}),function(){c.ZP.setGlobalData({showDropDown:!1})}}),[]),(0,i.useEffect)((function(){M&&M({type:"user/setCurrentUser",payload:N})}),[N]);var L=function(n,e){var t=n.pro_layout_parentKeys,r=void 0===t?[]:t,a=n.customIcon,o=!(0,p.isEmpty)(r);return o?(0,m.jsxs)("div",{className:f()(o?d.Z.childMenuItem:d.Z.menuItemWrap),style:w?{paddingLeft:2}:{},children:[(0,m.jsx)(g,{name:a,className:d.Z.fontIcon,style:{marginRight:w?14:10}}),(0,m.jsx)("div",{className:d.Z.menuTitle,children:e})]}):null};return(0,m.jsx)(o.ZP,a()(a()(a()({logo:null!==(e=null==N?void 0:N.orgLogo)&&void 0!==e?e:l.Z},n),R),{},{title:null!==(t=null==N?void 0:N.orgName)&&void 0!==t?t:"雷数云平台",className:"auth-layout",onCollapse:function(n){M&&M({type:"global/changeLayoutCollapsed",payload:n})},onMenuHeaderClick:function(){return u.history.push(D)},menuItemRender:function(n,e){return n.isUrl||!n.path||r.pathname===n.path?L(n,e):(0,m.jsx)(u.Link,{to:n.path,children:L(n,e)})},subMenuItemRender:function(n,e){return L(n,e)},splitMenus:!0,itemRender:function(n,e,t,r){return 0===t.indexOf(n)?(0,m.jsx)(u.Link,{to:r.join("/"),children:n.breadcrumbName}):(0,m.jsx)("span",{children:n.breadcrumbName})},menuDataRender:function(){return I(k)},rightContentRender:function(){return(0,m.jsx)(y.Z,{})},children:(0,m.jsx)(s.Z,{authority:C(r.pathname),noMatch:v.Z,children:b})}))}))}}]);